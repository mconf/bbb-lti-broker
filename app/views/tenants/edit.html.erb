<%# BigBlueButton open source conferencing system - http://www.bigbluebutton.org/.

Copyright (c) 2018 BigBlueButton Inc. and by respective authors (see below).

This program is free software; you can redistribute it and/or modify it under the
terms of the GNU Lesser General Public License as published by the Free Software
Foundation; either version 3.0 of the License, or (at your option) any later
version.

BigBlueButton is distributed in the hope that it will be useful, but WITHOUT ANY
WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A
PARTICULAR PURPOSE. See the GNU Lesser General Public License for more details.

You should have received a copy of the GNU Lesser General Public License along
with BigBlueButton; if not, see <http://www.gnu.org/licenses/>. %>

<div class='registration-form container'>
    <h3><%= t('tenant.edit') %></h3>
    <%= form_with(model: @tenant, url: tenant_path(@tenant.uid), method: 'patch') do |form| %>
        <div class='form-group row'>
            <%= form.label :uid, t('tenant.uid') + ':', class: 'col-sm-2 col-form-label' %>
            <%= form.text_field :uid, class: 'col-sm-10 col' %>
        </div>

        <%# Worka SaaS settings %>
        <div class='form-group row'>
            <div class='col'>
                <%= button_tag t('tenant.settings_fields.worka_saas_toggle'), data: {toggle: 'collapse', target: '#worka-saas-settings'}, type: 'button', class: 'btn btn-link' %>
                <%= form.fields :settings, model: OpenStruct.new(form.object.settings) do |setting_fields| %>
                    <div id='worka-saas-settings' class='collapse'>
                        <div class='form-group row'>
                            <%= setting_fields.label :worka_saas_enabled, t('tenant.settings_fields.worka_saas_enabled') + ':', class: 'col-sm-2 col-form-label' %>
                            <%= setting_fields.check_box :worka_saas_enabled %>
                        </div>
                        <div class='form-group row'>
                            <%= setting_fields.label :worka_saas_domain, t('tenant.settings_fields.worka_saas_domain') + ':', class: 'col-sm-2 col-form-label' %>
                            <%= setting_fields.text_field :worka_saas_domain, class: 'col-sm-10 col' %>
                        </div>
                        <div class='form-group row'>
                            <%= setting_fields.label :worka_saas_world, t('tenant.settings_fields.worka_saas_world') + ':', class: 'col-sm-2 col-form-label' %>
                            <%= setting_fields.text_field :worka_saas_world, class: 'col-sm-10 col' %>
                        </div>
                    </div>
                <% end %>
            </div>
        </div>

        <%# self-hosted Worka settings %>
        <div class='form-group row'>
            <div class='col'>
                <%= button_tag t('tenant.settings_fields.worka_selfhosted_toggle'), data: {toggle: 'collapse', target: '#worka-selfhosted-settings'}, type: 'button', class: 'btn btn-link' %>
                <div id='worka-selfhosted-settings' class='collapse'>
                    <%= form.fields :settings, model: OpenStruct.new(form.object.settings) do |setting_fields| %>
                        <div class='form-group row'>
                            <%= setting_fields.label :worka_selfhosted_url, t('tenant.settings_fields.worka_selfhosted_url') + ':', class: 'col-sm-2 col-form-label' %>
                            <%= setting_fields.text_field :worka_selfhosted_url, class: 'col-sm-10 col' %>
                        </div>
                        <div class='form-group row'>
                            <%= setting_fields.label :worka_selfhosted_bbb_url, t('tenant.settings_fields.worka_selfhosted_bbb_url') + ':', class: 'col-sm-2 col-form-label' %>
                            <%= setting_fields.text_field :worka_selfhosted_bbb_url, class: 'col-sm-10 col' %>
                        </div>
                    <% end %>
                </div>
            </div>
        </div>

        <%= submit_tag(t('ui.submit'), class: 'btn btn-success') %>
        <%= link_to t('ui.cancel'), registration_list_url, class: 'btn btn-secondary' %>
    <% end %>
</div>